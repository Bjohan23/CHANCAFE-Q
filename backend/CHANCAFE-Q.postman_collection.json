{
	"info": {
		"_postman_id": "bf30142f-5330-48ef-bfb0-5b9477f94849",
		"name": "CHANCAFE-Q API",
		"description": "Colecci√≥n completa para la API de CHANCAFE Q - Backend Node.js/Express",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "37068501"
	},
	"item": [
		{
			"name": "üîç Status & Health",
			"item": [
				{
					"name": "API Status (P√∫blico)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response contains status\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('status');",
									"    pm.expect(jsonData.status).to.eql('API is running');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/status",
							"host": ["{{base_url}}"],
							"path": ["status"]
						}
					}
				},
				{
					"name": "Health Check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response contains status OK\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql('OK');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{server_url}}/health",
							"host": ["{{server_url}}"],
							"path": ["health"]
						}
					}
				}
			]
		},
		{
			"name": "üîê Autenticaci√≥n",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data).to.have.property('token');",
									"    ",
									"    // Guardar el token para usar en otras requests",
									"    pm.environment.set('authToken', jsonData.data.token);",
									"    ",
									"    if(jsonData.data.refreshToken) {",
									"        pm.environment.set('refreshToken', jsonData.data.refreshToken);",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@chancafe.com\",\n    \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						}
					}
				},
				{
					"name": "Registro",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"User created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data).to.have.property('user');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Juan\",\n    \"last_name\": \"P√©rez\",\n    \"email\": \"juan.perez@chancafe.com\",\n    \"password\": \"password123\",\n    \"phone\": \"987654321\",\n    \"role\": \"sales_rep\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						}
					}
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Token refreshed\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data).to.have.property('token');",
									"    ",
									"    pm.environment.set('authToken', jsonData.data.token);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refreshToken\": \"{{refreshToken}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/refresh-token",
							"host": ["{{base_url}}"],
							"path": ["auth", "refresh-token"]
						}
					}
				},
				{
					"name": "Mi Perfil",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/me",
							"host": ["{{base_url}}"],
							"path": ["auth", "me"]
						}
					}
				},
				{
					"name": "Cambiar Contrase√±a",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"currentPassword\": \"password123\",\n    \"newPassword\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/change-password",
							"host": ["{{base_url}}"],
							"path": ["auth", "change-password"]
						}
					}
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": ["{{base_url}}"],
							"path": ["auth", "logout"]
						}
					}
				}
			]
		},
		{
			"name": "üë• Usuarios",
			"item": [
				{
					"name": "Listar Usuarios",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users?page=1&limit=10",
							"host": ["{{base_url}}"],
							"path": ["users"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					}
				},
				{
					"name": "Obtener Usuario por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users/1",
							"host": ["{{base_url}}"],
							"path": ["users", "1"]
						}
					}
				},
				{
					"name": "Crear Usuario",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Mar√≠a\",\n    \"last_name\": \"Garc√≠a\",\n    \"email\": \"maria.garcia@chancafe.com\",\n    \"password\": \"password123\",\n    \"phone\": \"987654322\",\n    \"role\": \"sales_rep\",\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": ["{{base_url}}"],
							"path": ["users"]
						}
					}
				},
				{
					"name": "Actualizar Usuario",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Mar√≠a Actualizada\",\n    \"last_name\": \"Garc√≠a\",\n    \"phone\": \"987654333\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/2",
							"host": ["{{base_url}}"],
							"path": ["users", "2"]
						}
					}
				},
				{
					"name": "Eliminar Usuario",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users/2",
							"host": ["{{base_url}}"],
							"path": ["users", "2"]
						}
					}
				},
				{
					"name": "Cambiar Estado Usuario",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"active\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/2/status",
							"host": ["{{base_url}}"],
							"path": ["users", "2", "status"]
						}
					}
				}
			]
		},
		{
			"name": "üì¶ Productos",
			"item": [
				{
					"name": "Listar Productos",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/products?page=1&limit=10&category=1&active=true",
							"host": ["{{base_url}}"],
							"path": ["products"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "category",
									"value": "1"
								},
								{
									"key": "active",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Obtener Producto por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/products/1",
							"host": ["{{base_url}}"],
							"path": ["products", "1"]
						}
					}
				},
				{
					"name": "Crear Producto",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Caf√© Premium\",\n    \"description\": \"Caf√© de alta calidad cultivado en las monta√±as\",\n    \"unit_price\": 25.50,\n    \"category_id\": 1,\n    \"stock_quantity\": 100,\n    \"min_stock\": 10,\n    \"unit_of_measure\": \"kg\",\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/products",
							"host": ["{{base_url}}"],
							"path": ["products"]
						}
					}
				},
				{
					"name": "Actualizar Producto",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Caf√© Premium Actualizado\",\n    \"unit_price\": 27.00,\n    \"stock_quantity\": 150\n}"
						},
						"url": {
							"raw": "{{base_url}}/products/1",
							"host": ["{{base_url}}"],
							"path": ["products", "1"]
						}
					}
				},
				{
					"name": "Eliminar Producto",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/products/1",
							"host": ["{{base_url}}"],
							"path": ["products", "1"]
						}
					}
				},
				{
					"name": "Cambiar Estado Producto",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"active\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/products/1/status",
							"host": ["{{base_url}}"],
							"path": ["products", "1", "status"]
						}
					}
				}
			]
		},
		{
			"name": "üë§ Clientes",
			"item": [
				{
					"name": "Listar Clientes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/clients?page=1&limit=10&search=Juan&active=true",
							"host": ["{{base_url}}"],
							"path": ["clients"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": "Juan"
								},
								{
									"key": "active",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Obtener Cliente por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/clients/1",
							"host": ["{{base_url}}"],
							"path": ["clients", "1"]
						}
					}
				},
				{
					"name": "Crear Cliente",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Juan Carlos Rodr√≠guez\",\n    \"email\": \"juan.rodriguez@empresa.com\",\n    \"phone\": \"987654321\",\n    \"company\": \"Empresa ABC S.A.C.\",\n    \"address\": \"Av. Principal 123, Lima\",\n    \"document_type\": \"RUC\",\n    \"document_number\": \"20123456789\",\n    \"credit_limit\": 5000.00,\n    \"active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/clients",
							"host": ["{{base_url}}"],
							"path": ["clients"]
						}
					}
				},
				{
					"name": "Actualizar Cliente",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Juan Carlos Rodr√≠guez Actualizado\",\n    \"phone\": \"987654322\",\n    \"credit_limit\": 7000.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/clients/1",
							"host": ["{{base_url}}"],
							"path": ["clients", "1"]
						}
					}
				},
				{
					"name": "Eliminar Cliente",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/clients/1",
							"host": ["{{base_url}}"],
							"path": ["clients", "1"]
						}
					}
				},
				{
					"name": "Cambiar Estado Cliente",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"active\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/clients/1/status",
							"host": ["{{base_url}}"],
							"path": ["clients", "1", "status"]
						}
					}
				},
				{
					"name": "Cotizaciones del Cliente",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/clients/1/quotes?page=1&limit=10",
							"host": ["{{base_url}}"],
							"path": ["clients", "1", "quotes"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "üè∑Ô∏è Categor√≠as",
			"item": [
				{
					"name": "Listar Categor√≠as",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/categories?active=true",
							"host": ["{{base_url}}"],
							"path": ["categories"],
							"query": [
								{
									"key": "active",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Obtener Categor√≠a por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/categories/1",
							"host": ["{{base_url}}"],
							"path": ["categories", "1"]
						}
					}
				},
				{
					"name": "Crear Categor√≠a",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Caf√© Especial\",\n    \"description\": \"Caf√©s de origen y especialidad\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/categories",
							"host": ["{{base_url}}"],
							"path": ["categories"]
						}
					}
				},
				{
					"name": "Actualizar Categor√≠a",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Caf√© Especial Premium\",\n    \"description\": \"Caf√©s de origen y especialidad de alta calidad\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/categories/1",
							"host": ["{{base_url}}"],
							"path": ["categories", "1"]
						}
					}
				},
				{
					"name": "Eliminar Categor√≠a",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/categories/1",
							"host": ["{{base_url}}"],
							"path": ["categories", "1"]
						}
					}
				},
				{
					"name": "Productos de Categor√≠a",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/categories/1/products",
							"host": ["{{base_url}}"],
							"path": ["categories", "1", "products"]
						}
					}
				}
			]
		},
		{
			"name": "üìÑ Cotizaciones",
			"item": [
				{
					"name": "Listar Cotizaciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes?page=1&limit=10&status=draft&client_id=1",
							"host": ["{{base_url}}"],
							"path": ["quotes"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "draft"
								},
								{
									"key": "client_id",
									"value": "1"
								}
							]
						}
					}
				},
				{
					"name": "Obtener Cotizaci√≥n por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/quotes/1",
							"host": ["{{base_url}}"],
							"path": ["quotes", "1"]
						}
					}
				},
				{
					"name": "Crear Cotizaci√≥n",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"client_id\": 1,\n    \"items\": [\n        {\n            \"product_id\": 1,\n            \"quantity\": 5\n        },\n        {\n            \"product_id\": 2,\n            \"quantity\": 10\n        }\n    ],\n    \"discount\": 5,\n    \"tax_rate\": 18,\n    \"notes\": \"Cotizaci√≥n para pedido mensual\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/quotes",
							"host": ["{{base_url}}"],
							"path": ["quotes"]
						}
					}
				},
				{
					"name": "Actualizar Cotizaci√≥n",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"items\": [\n        {\n            \"product_id\": 1,\n            \"quantity\": 8\n        },\n        {\n            \"product_id\": 2,\n            \"quantity\": 12\n        }\n    ],\n    \"discount\": 10,\n    \"notes\": \"Cotizaci√≥n actualizada con descuento especial\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/quotes/1",
							"host": ["{{base_url}}"],
							"path": ["quotes", "1"]
						}
					}
				},
				{
					"name": "Cambiar Estado Cotizaci√≥n",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/quotes/1/status",
							"host": ["{{base_url}}"],
							"path": ["quotes", "1", "status"]
						}
					}
				}
			]
		},
		{
			"name": "üí∞ Solicitudes de Cr√©dito",
			"item": [
				{
					"name": "Listar Solicitudes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/credit-requests?page=1&limit=10&status=pending",
							"host": ["{{base_url}}"],
							"path": ["credit-requests"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "pending"
								}
							]
						}
					}
				},
				{
					"name": "Estad√≠sticas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/credit-requests/stats",
							"host": ["{{base_url}}"],
							"path": ["credit-requests", "stats"]
						}
					}
				},
				{
					"name": "Obtener Solicitud por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/credit-requests/1",
							"host": ["{{base_url}}"],
							"path": ["credit-requests", "1"]
						}
					}
				},
				{
					"name": "Crear Solicitud",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"client_id\": 1,\n    \"requested_amount\": 10000.00,\n    \"purpose\": \"Expansi√≥n de negocio de caf√©\",\n    \"monthly_income\": 5000.00,\n    \"employment_status\": \"employed\",\n    \"employment_duration\": 24,\n    \"collateral_description\": \"Local comercial en Lima\",\n    \"notes\": \"Cliente con buen historial crediticio\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/credit-requests",
							"host": ["{{base_url}}"],
							"path": ["credit-requests"]
						}
					}
				},
				{
					"name": "Actualizar Solicitud",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"requested_amount\": 12000.00,\n    \"monthly_income\": 5500.00,\n    \"notes\": \"Informaci√≥n actualizada del cliente\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/credit-requests/1",
							"host": ["{{base_url}}"],
							"path": ["credit-requests", "1"]
						}
					}
				},
				{
					"name": "Aprobar Solicitud",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"approved_amount\": 8000.00,\n    \"approval_notes\": \"Aprobado con monto reducido por pol√≠ticas internas\",\n    \"credit_limit\": 8000.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/credit-requests/1/approve",
							"host": ["{{base_url}}"],
							"path": ["credit-requests", "1", "approve"]
						}
					}
				},
				{
					"name": "Rechazar Solicitud",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rejection_reason\": \"Ingresos insuficientes para el monto solicitado\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/credit-requests/1/reject",
							"host": ["{{base_url}}"],
							"path": ["credit-requests", "1", "reject"]
						}
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Script global que se ejecuta antes de cada request",
					"console.log('Ejecutando request a:', pm.request.url.toString());"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Script global que se ejecuta despu√©s de cada response",
					"pm.test('Response time is less than 2000ms', function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(2000);",
					"});",
					"",
					"// Log de respuesta para debugging",
					"console.log('Response status:', pm.response.status);",
					"console.log('Response time:', pm.response.responseTime + 'ms');"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000/api",
			"type": "string"
		},
		{
			"key": "server_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "authToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "refreshToken",
			"value": "",
			"type": "string"
		}
	]
}